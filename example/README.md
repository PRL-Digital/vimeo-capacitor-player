# Vimeo Capacitor Player Example

Example Vite React application demonstrating the `@vimeo/vimeo-capacitor-player` Capacitor plugin.

## Features

- ðŸŽ¥ Embedded Vimeo video player
- ðŸ“Š Real-time event logging
- ðŸŽ® Interactive playback controls
- ðŸ“± iOS native video player integration

## Prerequisites

- Node.js 16+ and npm
- macOS with Xcode (for iOS development)
- iOS Simulator or physical iOS device

## Setup

### 1. Install Dependencies

```bash
npm install
```

### 2. Build the Web App

```bash
npm run build
```

### 3. Sync Capacitor

```bash
npx cap sync
```

### 4. Run on iOS

Open in Xcode:

```bash
npx cap open ios
```

Then build and run on a simulator or device from Xcode.

## Development

### Web Development

For web-only development (note: plugin features won't work in browser):

```bash
npm run dev
```

### iOS Development

After making changes to the web app:

```bash
npm run build
npx cap sync
```

Then rebuild in Xcode.

## Project Structure

```
example/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.tsx              # Main app component with plugin integration
â”‚   â”œâ”€â”€ App.css              # Styles
â”‚   â”œâ”€â”€ main.tsx             # Entry point
â”‚   â””â”€â”€ ...
â”œâ”€â”€ ios/                     # iOS native project (generated by Capacitor)
â”œâ”€â”€ capacitor.config.ts      # Capacitor configuration
â””â”€â”€ package.json
```

## How It Works

### Video Integration

The app embeds a Vimeo video using an iframe:

```tsx
<iframe
  src="https://player.vimeo.com/video/76979871"
  allow="autoplay; fullscreen; picture-in-picture"
  allowFullScreen
/>
```

### Plugin Integration

The app sets up event listeners for the video player:

```tsx
// Listen for video player events
await VideoNativeBridge.addListener("videoPlayerOpened", (info) => {
  console.log("Video opened:", info);
});

await VideoNativeBridge.addListener("videoPlayerClosed", () => {
  console.log("Video closed");
});
```

### Event Logging

All plugin events are logged in the UI with timestamps and payloads for easy debugging and demonstration.

## Testing on iOS

1. **Build the app** in Xcode (Cmd+B)
2. **Run** on a simulator or device (Cmd+R)
3. **Tap the video** in the app - this should trigger the native iOS video player
4. **Watch the event logs** in the app as you interact with the video

### Expected Behavior

- When you tap the video, `videoPlayerOpened` event fires
- During playback, `videoTimeUpdated` events fire periodically
- When you close the player, `videoPlayerClosed` event fires
- Control buttons become active when the player is open

## Customization

### Change Vimeo Video

Edit `src/App.tsx`:

```tsx
const VIMEO_VIDEO_ID = "76979871"; // Replace with your video ID
```

### Styling

Edit `src/App.css` to customize the appearance.

## Troubleshooting

### Plugin not working

1. Make sure you've built the web app: `npm run build`
2. Sync Capacitor: `npx cap sync`
3. Clean build in Xcode: Product > Clean Build Folder
4. Rebuild and run

### Vimeo video not loading

- Check your internet connection
- Verify the video ID is correct and the video is public
- Check browser console for CORS or loading errors

### Native player not launching

- Ensure you're testing on iOS (simulator or device)
- The plugin only works with the native iOS player, not web playback
- Make sure the iframe has `allowFullScreen` attribute

## Resources

- [Capacitor Documentation](https://capacitorjs.com/docs)
- [Vimeo Player SDK](https://developer.vimeo.com/player/sdk)
- [Plugin README](../vimeo-capacitor-player/README.md)

## License

MIT
